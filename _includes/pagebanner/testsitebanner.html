<section id="test-banner" class="gc-archv">
    <div id="devtoolbar" class="pull-right">
        <ul class="btn-toolbar list-inline" role="toolbar">
            <li class="btn-group"><a id="editBtn" class="btn btn-default btn-sm" href=""><span class="fa fa-edit"></span><span class="wb-inv">Edit</span></a></li>
            <li id="githubBtnGrp" class="btn-group"><a id="githubBtn" class="btn btn-default btn-sm" href="#"><span class="fab fa-github"></span><span class="wb-inv">Go to Github source</span></a></li>
        </ul>
    </div>
    <div class="container test-banner-content">
        <h2>This site is for CRA testing purposes only</h2>
        <p class="mrgn-bttm-0">Do not enter any personal information on this site</p>
        {% if page.soureceurl %}
        {% for source in page.soureceurl %}
        {% if source.title and source.title != "" %}
        <p id="testpage-source"><strong>Source:</strong> <a href="{{ source.link }}">{{ source.title }}</a></p>
        {% endif %}
        {% endfor %}
        {% endif %}
    </div>
</section>
<script>
        "use strict";

        let githubURL,
            getGithubURL = function (pageURL) {
                var pageName = "";
                if (pageURL.indexOf(".htm") === -1) {
                    pageName = "index.html";
                };

                if (pageURL.indexOf(".github.io/") > -1) {
                    return pageURL.toString().replace(/^https:\/\/(.*?)\.github\.io\/(.*?)\/((?:.*)(?=\/))?(\/?.*\.(?:[^\?#])*)?/, "https:\/\/github\.com\/$1\/$2\/blob\/main\/$3$4" + pageName);
                } else if (pageURL.indexOf("://test.canada.ca/") > -1) {
                    return pageURL.toString().replace(/^https:\/\/test\.canada\.ca\/(.*?)\/((?:.*)(?=\/))?(\/?.*\.(?:[^\?#])*)?/, "https:\/\/github\.com\/gc-proto\/$1\/blob/master/$2$3" + pageName);
                } else if (pageURL.indexOf(".alpha.canada.ca/") > -1) {
                    return pageURL.toString().replace(/^https:\/\/design\.cra-arc\.alpha\.canada\.ca\/(.*?)\/((?:.*)(?=\/))?(\/?.*\.(?:[^\?#])*)?/, "https:\/\/github\.com\/alpha-canada-ca\/cra-ucd-guide\/blob/main/$1\/$2$3" + pageName);
                    return "#";
                }
                return "";
            };

        document.getElementById("editBtn").addEventListener("click", function (event) {
            if (document.getElementsByTagName("main").contentEditable === "true") {
                document.getElementsByTagName("main").contentEditable = "false";
                document.designMode = "off";
                void 0;
                this.classList.add("btn-default");
                this.classList.remove("btn-primary");
            } else {
                document.getElementsByTagName("main").contentEditable = "true";
                document.designMode = "on";
                void 0;
                this.classList.add("btn-primary");
                this.classList.remove("btn-default");
            }
            event.preventDefault();
        });

        githubURL = getGithubURL(window.location.href);
        if (githubURL === "") {
            document.getElementById("githubBtnGrp").classList.add("wb-inv");
        } else {
            document.getElementById("devtoolbar").classList.add("mrgn-rght-md");
            document.getElementById("githubBtn").href = githubURL;
        }
    </script>
